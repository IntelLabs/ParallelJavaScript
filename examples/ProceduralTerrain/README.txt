This is based on Notch's "Minecraft in JavaScript" code: http://jsfiddle.net/uzMPU/